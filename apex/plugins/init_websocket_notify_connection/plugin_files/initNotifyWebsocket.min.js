var initNotifyWebsocket={parseBoolean:function(a){var b;"true"==a.toLowerCase()&&(b=!0);"false"==a.toLowerCase()&&(b=!1);"true"!=a.toLowerCase()&&"false"!=a.toLowerCase()&&(b=void 0);return b},initConnection:function(){var a=parseInt(this.action.attribute01),b=this.action.attribute02,g=parseInt(this.action.attribute03),h=this.action.attribute04,d=this.action.attribute05,e=this.action.attribute06,f=initNotifyWebsocket.parseBoolean(this.action.attribute07);f&&(console.log("initConnection: Attribute Use SSL:",
a),console.log("initConnection: Attribute Server Hostname/IP:",b),console.log("initConnection: Attribute Server Port:",g),console.log("initConnection: Attribute Websocket Type/Room:",h),console.log("initConnection: Attribute Websocket User-ID:",d),console.log("initConnection: Attribute Websocket Auth-Token:",e),console.log("initConnection: Attribute Logging:",f));var c;1==a?c="https://"+b+":"+g:0===a&&(c="http://"+b+":"+g);"private"===h?(a=io.connect(c+"/private",{query:"userid="+d+"&authtoken="+
e}),a.on("message",function(a){apex.event.trigger("body","ws-private-message",a);f&&(console.log("private-socket-message"),console.log("type",a.type),console.log("title",a.title),console.log("message",a.message),console.log("time",a.time),console.log("optparam",a.optparam))}),a.on("connect",function(){apex.event.trigger("body","ws-private-connect-success")}),a.on("error",function(){apex.event.trigger("body","ws-private-connect-error")}),a.on("disconnect",function(){apex.event.trigger("body","ws-private-disconnect");
io.connect(c+"/private",{query:"userid="+d+"&authtoken="+e})})):"public"===h&&(a=io.connect(c+"/public",{query:"userid="+d+"&authtoken="+e}),a.on("message",function(a){apex.event.trigger("body","ws-public-message",a);f&&(console.log("public-socket-message"),console.log("type",a.type),console.log("title",a.title),console.log("message",a.message),console.log("time",a.time),console.log("optparam",a.optparam))}),a.on("connect",function(){apex.event.trigger("body","ws-public-connect-success")}),a.on("error",
function(){apex.event.trigger("body","ws-public-connect-error")}),a.on("disconnect",function(){apex.event.trigger("body","ws-public-disconnect");io.connect(c+"/public",{query:"userid="+d+"&authtoken="+e})}))}};
